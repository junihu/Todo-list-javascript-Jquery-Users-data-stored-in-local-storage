<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Sign Up Form</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="signup.css">
    </head>
<body>
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6">
                <div class="card">
                    <img style="height: 200px;" src="logo.png" alt="Logo">
                    <div class="card-body">
                        <h1 class="card-title text-center">WELCOME TO SIGN UP PAGE <br>CodeSerene</h1>
                        <form name="myform" id="signupform" onsubmit="return validateform()" method="post">
                            <div class="form-group">
                                <label for="fname"><b>First name:</b></label>
                                <input type="text" class="form-control" id="fname" name="fname">
                                <div id="fnameError" class="text-danger"></div>
                            </div>
                            <div class="form-group">
                                <label for="lname"><b>Last name:</b></label>
                                <input type="text" class="form-control" id="lname" name="lname">
                                <div id="lnameError" class="text-danger"></div>
                            </div>
                            <div class="form-group">
                                <label for="username"><b>Email:</b></label>
                                <input type="email" class="form-control" id="username" name="username" placeholder="example@gmail.com">
                                <div id="usernameError" class="text-danger"></div>
                            </div>
                            <div class="form-group">
                                <label for="Password"><b>Password:</b></label>
                                <input type="password" class="form-control" id="Password" name="Password">
                                <div id="passwordError" class="text-danger"></div>
                            </div>
                            <div class="form-group">
                                <label for="Confirm"><b>Confirm Password:</b></label>
                                <input type="password" class="form-control" id="Confirm" name="Confirm">
                                <div id="confirmError" class="text-danger"></div>
                            </div>
                            <div class="form-group">
                                <label for="date"><b>Date:</b></label>
                                <input type="date" class="form-control" id="date" name="date">
                                <div id="dateError" class="text-danger"></div>
                            </div>
                            <button style="color: white;" class="btn btn-warning btn-block" type="submit" onclick="return validateform()"  > <a href="login.html" >signup</a></button>  
                        <a style="float: right;" href="login.html">Already a user?</a>                      
                    </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</body> 
<script >
var fname=document.getElementById('fname');
var lname=document.getElementById('lname');
var username=document.getElementById('username');
var password=document.getElementById('Password');
var cpassword=document.getElementById('Confirm')

//storing input from signup form

    
function store() {
  
    let usersData = JSON.parse(localStorage.getItem('users')) || [];

    // Get form values
    let newUser = {
        fname: fname.value,
        lname: lname.value,
        username: username.value,
        password: password.value,
        cpassword: cpassword.value
        
    };

  
    usersData.push(newUser);

   
    localStorage.setItem('users', JSON.stringify(usersData));

    
    console.log('Stored Data:');
    console.log('Users:', usersData);
    //display
    /*console.log('Stored Data:');
    console.log('First Name:', localStorage.getItem('fname'));
    console.log('Last Name:', localStorage.getItem('lname'));
    console.log('Username:', localStorage.getItem('username'));
    console.log('Password:', localStorage.getItem('password'));
    console.log('Confirm Password:', localStorage.getItem('cpassword'));*/
}

    
   
    


function validateform()
{
    let fname = document.forms['myform']['fname'].value;
    let lname = document.forms['myform']['lname'].value;
    let x=document.forms['myform']['username'].value;
    let y=document.forms['myform']['Password'].value;
    const Confirm = document.forms['myform']['Confirm'].value;
    const dat = document.forms['myform']['date'].value;
    const nameRegex = /^[A-Za-z]+$/;
    const passwordRegex = /^(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
    {
        if (!nameRegex.test(fname))
            {
                alert("Firstname should contain characters only");
                return false;
            }
        else if(fname="")
            {
                alert("First name should be filled out");
                return false;
            }    
    }
    {
        if (!nameRegex.test(lname))
            {
                alert("Lastname should contain characters only");
                return false;
            }
        else if(lname="")
            {
                alert("First name should be filled out");
                return false;
            }    
    }
    if (x=="")
    {
        alert("Username must be filled out");
        return false;
    }

    if (y=="")
    {
        alert("Password must be filled out");
        return false;
    }
    if (!passwordRegex.test(y))
    {
        alert("Must Must contain atleast One capital letter, one special letter, and one number")
        return false;
    }
    if(y!==Confirm)
        {
            alert("Password and Confirm Password don't match");
            return false;
        }
    if(dat=="")
        {
            alert("date must be filled out");
            return false;
        }    
      
    store();
    alert("Registration successful!");
    return true;
    
}


</script>
</html>
